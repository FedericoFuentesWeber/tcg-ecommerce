<main>
    <div class="d-flex justify-content-center p-3">
        <h1>Bienvenido {{user.email}}, tu rol es: {{user.role}}</h1>
    </div>
    <div class="d-flex justify-content-center p-3">
        <h2>Productos</h2>
    </div>

    <section>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Título</th>
                    <th scope="col">Descripción</th>
                    <th scope="col">Código</th>
                    <th scope="col">Categoria</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Stock</th>
                    <th scope="col">Imagen</th>
                    <th scope="col">Acción</th>
                </tr>
            </thead>
            <tbody id="products_body">
                {{#each products}}
                    <tr>
                        <td>{{this.title}}</td>
                        <td>{{this.description}}</td>
                        <td>{{this.code}}</td>
                        <td>{{this.category}}</td>
                        <td>{{this.price}}</td>
                        <td>{{this.stock}}</td>
                        <td class="px-4">
                            <a onclick="showImage('{{this.thumbnails}}')" class="btn-sm clickable">
                                Imagen
                            </a>
                        </td>
                        <td class="px-4">
                            <a onclick="addProduct('{{this.id}}')" class="btn-sm clickable">
                                Agregar
                            </a>
                        </td>
                    </tr>
                {{else}}
                    <tr>
                        <td colspan="7">No hay productos</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </section>

    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {{#if hasPrevPage}}
            <li class="page-item">
                <a class="page-link" href="products?page={{prevPage}}">Anterior</a>
            </li>
            {{else}}
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {{/if}}
            {{#if hasNextPage}}
            <li class="page-item">
                <a class="page-link" href="products?page={{nextPage}}">Siguiente</a>
            </li>
            {{else}}
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            {{/if}}
        </ul>
    </nav>
</main>
<script src="js/products.js"></script>